<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="../css/navbar.css">
        <link rel="stylesheet" href="../css/dashboard_manutencao.css">
        <link rel="icon" href="../assets/img/logoSentinela.ico" type="image/x-icon">
        <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dashboard | Tempo Real</title>
        <script src="../scripts/animacaoMenuMobile.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>



</head>
<body class="body_dashRealTime" id="dash_RT">
    <!-- MENU LATERAL-->
    <div class="container_navDashRT" id="container_navDashRT"></div>

    <!-- MENU SUPERIOR MOBILE-->
    <div class="navBar-mobile" id="navBar-mobile"></div>

    <!-- SCRIPT QUE GERA O CONTEUDO DOS MENUS -->
    <script src="../scripts/redirecionamentoMenu.js"></script>

        <div class="dashboard">
            <div class="container">
                <div class="titulo_dashRT">
                    <span>
                        <b>Manutenção de Robôs</b>
                    </span>
                </div>
                <div class="subtitulo_dashRT">
                    <span>
                        <i>*Lista de máquinas com necessidade de manutenção</i>
                    </span>
                </div>
            </div>

            <div class="container-kpis">
                <div class="container-kpi">
                    <div>
                        <h2>Máquinas ativas</h2>
                        <h1>00</h1>
                    </div>
                    <div>
                        <h2>Máquinas com alertas</h2>
                        <h1>00</h1>
                    </div>
                    <div>
                        <span><i>Pesquisar máquina por número de serial:</i></span> <br><br>
                        <input type="text" id="serialNumberRobo">
                    </div>
                </div>
    
                <div class="container-kpi2">
                    <div>
                        <h2>Máquinas em urgencia atualmente</h2>
                        <div>
                        </div>
                    </div>
                    <div>
                        <h2>Componentes com mais conflitos</h2>
                        <div>
                            <canvas id="myChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container-table">
                <h3>Lista de máquinas com necessidade de manutenção</h3> <br>
                <span><i>*Da maior prioridade até a menor</i></span>
                <table class="table">
                    <thead class="table_head">
                      <tr>
                        <th rowspan="1">Prioridade</th>
                        <th colspan="5">Qtd de alertas atual</th>
                        <th colspan="2">Alertas mais recentes/antigos</th>
                      </tr>
                      <tr>
                        <th>Número de Serial</th>
                        <th>CPU</th>
                        <th>RAM</th>
                        <th>Disco</th>
                        <th>Rede</th>
                        <th>TDA</th>
                        <th>Primeiro alerta</th>
                        <th>Último alerta</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>ABC123</td>
                        <td>Alta</td>
                        <td>5</td>
                        <td>3</td>
                        <td>4</td>
                        <td>2</td>
                        <td>3</td>
                        <td>2025-05-01</td>
                      </tr>
                    </tbody>
                  </table>
            </div>
            
        
            <!-- <div class="container2">
                <div class="box_kpi">
                    <div class="kpi_maqRT">
                        <div class="kpi_maqRT2">
                            <span><b>Máquina(s) ativa(s)</b></span>
                            <span></span>
                        </div>
                    </div>
                    <div class="kpi_maqRT">
                        <div class="kpi_maqRT2">
                            <span><b>Máquina(s) inativa(s)</b></span>
                            <span></span>
                        </div>
                    </div>
                    <div class="kpi_maqRT">
                        <div class="kpi_maqRT2">
                            <span><b>Total de Alertas</b></span>
                            <span id="qtd_alertas"></span>
                        </div>
                    </div>
                </div>
        
                <div class="box_table">
                    <table class="table">
                        <thead class="table_head">
                            <tr>
                                <th>Máquina</th>
                                <th>Status</th>
                                <th>Tempo Ativo (h)</th>
                                <th>Alertas</th>
                                <th>Último Alerta</th>
                                <th>RAM (%)</th>
                                <th>CPU (%)</th>
                                <th>Disco (%)</th>
                                <th>Detalhamento</th>
                            </tr>
                        </thead>
                        <tbody class="table_body">
                            
                        </tbody>
                        
                    </table>
                </div>
            </div> -->
        </div>
        
        
    </body>
</html>

<script>
    const ctx = document.getElementById('myChart');
  
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['CPU', 'RAM', 'Disco', 'Rede', 'TDA'],
        datasets: [{
          label: 'Qtd média de alertas por máquina',
          data: [12, 19, 3, 5, 2],
          borderWidth: 1
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });

const config = {
  type: 'bar',
  data: data,
  options: {
    responsive: true,
    plugins: {
      legend: {
        position: 'top',
      },
      title: {
        display: true,
        text: 'Chart.js Bar Chart'
      }
    }
  },
};

const DATA_COUNT = 7;
const NUMBER_CFG = {count: DATA_COUNT, min: -100, max: 100};

const labels = Utils.months({count: 7});
const data = {
  labels: labels,
  datasets: [
    {
      label: 'Dataset 1',
      data: Utils.numbers(NUMBER_CFG),
      borderColor: Utils.CHART_COLORS.red,
      backgroundColor: Utils.transparentize(Utils.CHART_COLORS.red, 0.5),
    },
    {
      label: 'Dataset 2',
      data: Utils.numbers(NUMBER_CFG),
      borderColor: Utils.CHART_COLORS.blue,
      backgroundColor: Utils.transparentize(Utils.CHART_COLORS.blue, 0.5),
    }
  ]
};
  </script>
